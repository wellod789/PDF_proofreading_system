# PDF校正システム - GUI版

## 概要
PDF校正システムのデスクトップアプリケーション版です。tkinterを使用して作成されており、Web版と同じ機能をGUIで提供します。

## 機能
- **PDFファイル選択**: ファイル選択ダイアログでPDFファイルを選択
- **自動校正**: Claude 3.5 Sonnet v2による誤字脱字・画像配置チェック
- **結果表示**: 校正結果をツリービューと詳細表示で確認
- **Excel出力**: 校正結果をExcelファイルで出力・ダウンロード
- **プログレス表示**: 処理状況をリアルタイムで表示
- **エラーハンドリング**: 適切なエラーメッセージと対処法を表示

## セットアップ

### 1. 前提条件
- Python 3.11以上
- 既存のWeb版と同じ環境変数設定（`.env`ファイル）

### 2. 起動方法

#### Windows
```cmd
# バッチファイルを使用
run_gui.bat

# または直接実行
.\venv\Scripts\activate
python pdf_corrector_gui.py
```

#### Linux/Mac
```bash
# シェルスクリプトを使用
chmod +x run_gui.sh
./run_gui.sh

# または直接実行
source venv/bin/activate
python pdf_corrector_gui.py
```

## 使用方法

### 1. アプリケーション起動
- `run_gui.bat`（Windows）または`run_gui.sh`（Linux/Mac）を実行
- または仮想環境をアクティベートして`python pdf_corrector_gui.py`を実行

### 2. PDFファイルの選択
- 「ファイルを選択」ボタンをクリック
- 校正したいPDFファイルを選択

### 3. 校正の実行
- 「校正を開始」ボタンをクリック
- プログレスバーで処理状況を確認
- 処理完了まで待機

### 4. 結果の確認
- 「校正結果」タブで校正結果を一覧表示
- 各項目をクリックして詳細を確認
- 「詳細表示」タブで詳細な校正内容を表示

### 5. Excelファイルのダウンロード
- 「Excelファイルをダウンロード」ボタンをクリック
- 校正結果がExcelファイルで開かれます

## 画面構成

### メインウィンドウ
- **ファイル選択エリア**: PDFファイルの選択
- **操作ボタン**: 校正開始、ダウンロード、クリア
- **プログレス表示**: 処理状況の表示
- **結果表示エリア**: 校正結果の表示

### 結果表示
- **校正結果タブ**: ツリービューで校正結果を一覧表示
- **詳細表示タブ**: 選択した項目の詳細を表示

## 技術仕様

### 使用ライブラリ
- **tkinter**: GUIフレームワーク（Python標準ライブラリ）
- **threading**: 非同期処理
- **pdf_corrector_module**: 既存の校正ロジック（再利用）

### ファイル構成
```
aws_kousei/
├── pdf_corrector_gui.py      # GUI版メインファイル
├── pdf_corrector_module.py   # 校正ロジックモジュール
├── run_gui.bat              # Windows起動スクリプト
├── run_gui.sh               # Linux/Mac起動スクリプト
├── README_GUI.md            # GUI版説明書
└── config.py                # 設定ファイル（既存）
```

## 注意事項

### システム要件
- Python 3.11以上
- tkinter（通常Pythonに含まれています）
- 既存のWeb版と同じ依存関係

### 制限事項
- 最大3ページまで処理（設定で変更可能）
- 最大50MBまでのファイルサイズ
- AWS Bedrockの利用制限に従う

### トラブルシューティング

#### 起動しない場合
1. 仮想環境が正しく設定されているか確認
2. 必要なライブラリがインストールされているか確認
3. `.env`ファイルが正しく設定されているか確認

#### 校正が失敗する場合
1. AWS認証情報が正しいか確認
2. ネットワーク接続を確認
3. PDFファイルが破損していないか確認

## 既存システムとの関係

- **Web版**: `app.py` - ブラウザベースのWebアプリケーション
- **GUI版**: `pdf_corrector_gui.py` - デスクトップアプリケーション
- **共通モジュール**: `pdf_corrector_module.py` - 両方で使用される校正ロジック

両バージョンは独立して動作し、同じ設定ファイル（`config.py`、`.env`）を共有します。
